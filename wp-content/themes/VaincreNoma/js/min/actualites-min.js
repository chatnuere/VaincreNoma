function previous(){new_page=parseInt($(".current_page").val())-1,1==$(".active_page").prev(".page_link").length&&go_to_page(new_page)}function next(){new_page=parseInt($(".current_page").val())+1,1==$(".active_page").next(".page_link").length&&go_to_page(new_page)}function go_to_page(e){var a=parseInt($(".show_per_page").val());start_from=e*a,end_on=start_from+a,$(".archive ul").children().css("display","none").slice(start_from,end_on).css("display","block"),$(".page_link[longdesc="+e+"]").addClass("active_page").siblings(".active_page").removeClass("active_page"),$(".current_page").val(e)}var initPagination=function(){$.get("http://localhost:8888/VaincreNoma/api/get_posts/",function(e){$(".article").append("<div class='archive'><input type='hidden' class='current_page' /><input type='hidden' class='show_per_page' /><h3>Archive</h3><ul></ul><div class='page_navigation'></div></div>"),$.each(e.posts,function(e,a){var i=new Date(a.date),n=i.getMonth(),t=i.getFullYear(),r=new Array("Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"),l=document.URL;l.indexOf("?")>-1&&(l=l.substr(0,l.indexOf("?"))),l=l+"?title="+encodeURIComponent(a.title.replace(/ /g,"-"))+"&post="+a.id,$(".archive ul").append('<li><a href="'+a.url+'"><div class="img"><img src="'+a.thumbnail_images.thumbnail.url+'" alt=""></div><div class="info"><p>'+r[n]+", "+t+"</p><h4>"+a.title+"</h4></div></a></li>")});var a=5,i=$(".archive ul").children().size(),n=Math.ceil(i/a);$(".current_page").val(0),$(".show_per_page").val(a);for(var t="",r=0;n>r;)t+='<a class="page_link" href="javascript:go_to_page('+r+')" longdesc="'+r+'">'+(r+1)+"</a>",r++;t+='<a class="next_link" href="javascript:go_to_page('+(n-1)+');">&raquo;</a>',$(".page_navigation").html(t),$(".page_navigation .page_link:first").addClass("active_page"),$(".archive ul").children().css("display","none"),$(".archive ul").children().slice(0,a).css("display","block"),$("nav.archive").stick_in_parent()})};